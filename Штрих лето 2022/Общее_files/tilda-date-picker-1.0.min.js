function t_datepicker_init(e,t,r){var a=document.querySelector("#rec"+e);if(a){var n="",i,c,d;if(n=r?"#rec"+e+' [data-elem-id="'+r+'"] [data-input-lid="'+t+'"]':"#rec"+e+' [data-input-lid="'+t+'"]',i=a.querySelector(n+" .t-input-block"))if(!i.querySelector(".t_datepicker__inner"))if(!i.classList.contains("js-datepicker-rendered")){var l=i.querySelector(".t-datepicker"),s;if(l)i.classList.add("js-datepicker-rendered"),l.setAttribute("autocomplete",navigator.userAgent.search(/Chrome/)>0?"no":"off"),i.classList.contains("t-input-block_inited-date-picker")||i.classList.add("t-input-block_inited-date-picker"),t_datepicker__addHandler(n+" .t-datepicker",t_datepicker__createOptions(i,a))}}}function t_datepicker__createOptions(e,t){var r=(window.navigator.userLanguage||window.navigator.language).toUpperCase().slice(0,2),a=document.getElementById("allrecords"),n;if(a){var i=a.getAttribute("data-tilda-project-lang");i&&(r=i)}for(var c=[],d=0;d<12;d++){var l=new Date(Date.UTC(2006,d,1,0,0,0));c.push(l.toLocaleDateString(r,{month:"long",timeZone:"UTC"}))}for(var s=[],_=1;_<=7;_++){var l=new Date(Date.UTC(2006,0,_,0,0,0));s.push(l.toLocaleDateString(r,{weekday:"short",timeZone:"UTC"}).substring(0,2))}return{months:c,weekDays:s,body:e,sundayBased:!1,pickerAttribute:"data-picker",datePickerClass:"t_datepicker__inner",selectedDayClass:"selected-day",header:'<div class="t_datepicker__header"><button class="t_datepicker__arrow t_datepicker__arrow_prev" type="button"></button><button class="t_datepicker__arrow t_datepicker__arrow_next" type="button"></button><div class="t_datepicker__label t_datepicker__label_month"><span>{{month}}</span><select class="t_datepicker__select t_datepicker__select_month" tabindex="-1">{{months}}</select></div><div class="t_datepicker__label t_datepicker__label_year"><span>{{year}}</span><select class="t_datepicker__select t_datepicker__select_year" tabindex="-1">{{years}}</select></div></div>',minDate:"1940-01-01",maxDate:"2030-12-31",nextButtonClass:"t_datepicker__arrow_next",prevButtonClass:"t_datepicker__arrow_prev",selectYearClass:"t_datepicker__select_year",selectMonthClass:"t_datepicker__select_month",isRendered:!1,rec:t,datePickerEl:"",datePickerTable:"",nextButtonEl:"",prevButtonEl:"",currentMonth:"",currentYear:"",inputEl:""}}function t_datepicker__renderCallback(e){var t=e.rec.querySelectorAll(".t-cover, .t396__artboard"),r=e.datePickerEl,a=e.body;if(1===t.length)if("block"===e.datePickerEl.style.display){var n=a.offsetTop,i=0,c=a.closest(".t396__elem"),d=0;c&&(d=c.offsetTop,i=r.getBoundingClientRect().height);var l=t[0].getBoundingClientRect().height;n+r.offsetTop+i+d>l&&(t[0].style.overflow="unset")}else t[0].style.overflow=""}function t_datepicker__addHandler(e,t){var r=t.body.querySelector(e),a=t.maxDate.split("-")[0],n=t.minDate.split("-")[0];document.addEventListener("click",(function(e){e.target!==r||t.isRendered&&"none"!==t.datePickerEl.style.display?!e.target||e.target.classList.contains(t.datePickerClass)||e.target.closest("."+t.datePickerClass)||e.target.classList.contains("t-datepicker")||t_datepicker__closeDatepicker(t):(0!==document.querySelectorAll(".t_datepicker__inner").length&&document.querySelectorAll(".t_datepicker__inner").forEach((function(e){e.style.display="none"})),t_datepicker__openDatepicker(t))})),t.body.addEventListener("click",(function(e){var i=e.target.getAttribute(t.pickerAttribute);if(i){var c=parseInt(i.split("-")[0],10);if(c<=a&&c>=n){var d=t.datePickerTable.querySelector("td.selected-day");d&&d.classList.remove("selected-day"),e.target.classList.add("selected-day"),t_datepicker__renderValue(r,i),t_datepicker__closeDatepicker(t)}}e.target&&e.target.classList.contains(t.nextButtonClass)&&(t_datepicker__goToNextMonth(t),t_datepicker__checkLimit(t)),e.target&&e.target.classList.contains(t.prevButtonClass)&&(t_datepicker__goToPrevMonth(t),t_datepicker__checkLimit(t))}))}function t_datepicker__renderCalendar(e){var t=document.createElement("div");t.classList.add(e.datePickerClass);var r=t_datepicker__getCurrentDate().split("-");e.sundayBased||(e.weekDays.push(e.weekDays[0]),e.weekDays.splice(0,1));for(var a=[],n=parseInt(e.minDate.slice(0,4),10);n<=parseInt(e.maxDate.slice(0,4),10);n++)a.push(n);var i=e.header.replace("{{year}}",r[0]).replace("{{years}}",t_datepicker__getOptionsHTML(a,parseInt(r[0],10))).replace("{{month}}",e.months[parseInt(r[1],10)-1]).replace("{{months}}",t_datepicker__getOptionsHTML(e.months,e.months[parseInt(r[1],10)-1]));i+='<table class="t_datepicker__body">',i+=t_datepicker__renderMonth(r[0],parseInt(r[1],10)-1,e),i+="</table>",t.innerHTML=i,e.body.insertAdjacentElement("beforeend",t),e.datePickerEl=e.body.querySelector("."+e.datePickerClass),e.datePickerTable=e.body.querySelector(".t_datepicker__body"),e.nextButtonEl=e.datePickerEl.querySelector("."+e.nextButtonClass),e.prevButtonEl=e.datePickerEl.querySelector("."+e.prevButtonClass),e.currentMonth=e.body.querySelector(".t_datepicker__label_month span"),e.currentYear=e.body.querySelector(".t_datepicker__label_year span"),e.inputEl=e.body.querySelector(".t-datepicker");var c=e.body.querySelector(".t_datepicker__select_year"),d;t_datepicker__addSelectHandler(e.body.querySelector(".t_datepicker__select_month"),e,e.currentMonth),t_datepicker__addSelectHandler(c,e,e.currentYear)}function t_datepicker__goToNextMonth(e){var t=e.currentYear.innerHTML,r=e.datePickerEl.querySelector("."+e.selectMonthClass),a=e.months.indexOf(e.currentMonth.innerHTML),n,i;if(11===parseInt(a,10)){n=e.months[0];var c=e.datePickerEl.querySelector("."+e.selectYearClass);i=parseInt(t,10)+1,c.value=i,e.currentYear.innerHTML=i}else n=e.months[parseInt(a,10)+1],i=t;r.value=n,e.currentMonth.innerHTML=n,e.datePickerTable.innerHTML=t_datepicker__renderMonth(i,e.months.indexOf(n),e)}function t_datepicker__goToPrevMonth(e){var t=e.currentYear.innerHTML,r=e.datePickerEl.querySelector("."+e.selectMonthClass),a=e.months.indexOf(e.currentMonth.innerHTML),n,i;if(0===parseInt(a,10)){n=e.months[11];var c=e.datePickerEl.querySelector("."+e.selectYearClass);i=parseInt(t,10)-1,c.value=i,e.currentYear.innerHTML=i}else n=e.months[parseInt(a,10)-1],i=t;r.value=n,e.currentMonth.innerHTML=n,e.datePickerTable.innerHTML=t_datepicker__renderMonth(i,e.months.indexOf(n),e)}function t_datepicker__renderMonth(e,t,r,a){var n=t_datepicker__generateDays(e,t),i;i=a?new Date(e,t,a):new Date;for(var c="<thead><tr>",d=0;d<r.weekDays.length;d++){var l;c+='<th class="t_datepicker__week-day'+(d>4?" t_datepicker__week-end":"")+'">'+r.weekDays[d]+"</th>"}var s=t_datepicker__getCurrentDate().split("-");c+="</tr></thead><tbody>";for(var d=0;d<n.length;d++)c+=1===n[d].getDay()?"<tr>":"",c+='<td class="',n[d].getMonth()===t?c+="t_datepicker__current-month":n[d].getMonth()<t?c+="t_datepicker__previous-month":n[d].getMonth()>t&&(c+="t_datepicker__next-month"),n[d].getFullYear()===parseInt(s[0],10)&&n[d].getMonth()+1===parseInt(s[1],10)&&n[d].getDate()===parseInt(s[2],10)&&(c+=" t_datepicker__today"),n[d].getFullYear()===i.getFullYear()&&n[d].getMonth()===i.getMonth()&&n[d].getDate()===i.getDate()&&(c+=" t_datepicker__selected-day"),c+='"',c+=r.pickerAttribute+'="',c+=n[d].getFullYear()+"-",c+=n[d].getMonth()+1+"-",c+=n[d].getDate()+'"',c+=">",c+=n[d].getDate(),c+=0===n[d].getDay()?"</tr>":"";return c+="</tbody>"}function t_datepicker__generateDays(e,t){var r=new Date(e,t,1),a=[],n=r.getDay()-1==-1?6:r.getDay()-1;r.setDate(r.getDate()-n);for(var i=0;i<n;i++)a.push(new Date(r)),r.setDate(r.getDate()+1);for(;r.getMonth()===t;)a.push(new Date(r)),r.setDate(r.getDate()+1);if(1!==r.getDay())for(;1!==r.getDay()&&(a.push(new Date(r)),r.setDate(r.getDate()+1),!isNaN(r.getDay())););return a}function t_datepicker__openDatepicker(e){if(!e.isRendered)return t_datepicker__renderCalendar(e),e.isRendered=!0,e.datePickerEl.style.display="block",void t_datepicker__renderCallback(e);var t=t_datepicker__getDateDivider(e.inputEl),r;isNaN(+e.inputEl.value.replaceAll(t,""))||t_datepicker__validateEnteredValue(t_datepicker__readValue(e.inputEl),e);e.datePickerEl.style.display="block",t_datepicker__renderCallback(e)}function t_datepicker__closeDatepicker(e){e.datePickerEl&&(e.datePickerEl.style.display="none",t_datepicker__renderCallback(e))}function t_datepicker__renderValue(e,t){for(var r=t.split("-"),a=0;a<3;a++)r[a].length<2&&(r[a]="0"+r[a]);var n=e.getAttribute("data-tilda-dateformat"),i=t_datepicker__getDateDivider(e);"DD-MM-YYYY"===n&&(e.value=r[2]+i+r[1]+i+r[0]),"MM-DD-YYYY"===n&&(e.value=r[1]+i+r[2]+i+r[0]),"YYYY-MM-DD"===n&&(e.value=r[0]+i+r[1]+i+r[2]),e.classList.contains("t-input_pvis")&&e.classList.add("t-input_has-content")}function t_datepicker__readValue(e){var t=t_datepicker__getDateDivider(e),r=e.value.split(t),a=e.getAttribute("data-tilda-dateformat");return""==r?t_datepicker__getCurrentDate():"DD-MM-YYYY"===a?r[2]+"-"+r[1]+"-"+r[0]:"MM-DD-YYYY"===a?r[2]+"-"+r[0]+"-"+r[1]:"YYYY-MM-DD"===a?r[0]+"-"+r[1]+"-"+r[2]:void 0}function t_datepicker__getCurrentDate(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}function t_datepicker__getOptionsHTML(e,t){for(var r=[],a=0;a<e.length;a++)r.push('<option value="'+e[a]+'"'+(e[a]===t?"selected":"")+">"+e[a]+"</option>");return r.join("")}function t_datepicker__getDateDivider(e){var t=e.getAttribute("data-tilda-datediv");return"dash"!==t&&t?"slash"===t?"/":"dot"===t?".":void 0:"-"}function t_datepicker__checkLimit(e){var t=e.maxDate.split("-"),r=e.minDate.split("-"),a=parseInt(e.currentYear.innerHTML,10),n=e.currentMonth.innerHTML;11===e.months.indexOf(n)&&a===parseInt(t[0],10)?(e.nextButtonEl.disabled=!0,e.prevButtonEl.disabled=!1):0===e.months.indexOf(n)&&a===parseInt(r[0],10)?(e.prevButtonEl.disabled=!0,e.nextButtonEl.disabled=!1):(e.nextButtonEl.disabled=!1,e.prevButtonEl.disabled=!1)}function t_datepicker__addSelectHandler(e,t,r){e.addEventListener("input",(function(e){r.innerHTML=e.target.value;var a=t.currentYear.innerHTML,n=t.months.indexOf(t.currentMonth.innerHTML);t.datePickerTable.innerHTML=t_datepicker__renderMonth(a,n,t),t_datepicker__checkLimit(t)}))}function t_datepicker__validateEnteredValue(e,t){var r=e.split("-"),a=parseInt(r[0],10),n=parseInt(r[1])-1,i=parseInt(r[2]),c=parseInt(t.maxDate.split("-")[0],10),d=parseInt(t.minDate.split("-")[0],10),l=i>=0&&i<=31,s=n>=0&&n<=11,_=t.datePickerEl.querySelector("."+t.selectMonthClass),o=t.datePickerEl.querySelector("."+t.selectYearClass);a>c?(t.datePickerTable.innerHTML=t_datepicker__renderMonth(c,s?n:11,t,l?i:void 0),_.value=t.months[s?n:11],t.currentMonth.innerHTML=t.months[s?n:11],o.value=c,t.currentYear.innerHTML=c):a<d?(t.datePickerTable.innerHTML=t_datepicker__renderMonth(d,s?n:0,t,l?i:void 0),_.value=t.months[s?n:0],t.currentMonth.innerHTML=t.months[s?n:0],o.value=d,t.currentYear.innerHTML=d):(t.datePickerTable.innerHTML=t_datepicker__renderMonth(a,s?n:11,t,l?i:void 0),_.value=t.months[s?n:0],t.currentMonth.innerHTML=t.months[s?n:0],o.value=a,t.currentYear.innerHTML=a),t_datepicker__checkLimit(t)}